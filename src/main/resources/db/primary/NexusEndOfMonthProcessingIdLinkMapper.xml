<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.nexus.NexusEndOfMonthProcessingBatch.domain.primary.mapper.NexusEndOfMonthProcessingIdLinkMapper">
    <resultMap id="NexusEndOfProcessingIdLinkResultMap" type="com.nexus.NexusEndOfMonthProcessingBatch.domain.primary.entity.NexusEndOfMonthProcessingIdLinkEntity">
        <result column="attribute" property="attribute" typeHandler="com.nexus.NexusEndOfMonthProcessingBatch.domain.type_handler.EndOfMonthProcessingIdLinkAttributeTypeHandler"/>
        <result column="src_id" property="srcId"/>
        <result column="dest_id" property="destId"/>
        <result column="registered_user_id" property="registeredUserId"/>
        <result column="registered_date" property="registeredDate" typeHandler="com.nexus.NexusEndOfMonthProcessingBatch.domain.type_handler.LocalDateTimeTypeHandler"/>
        <result column="update_user_id" property="updateUserId"/>
        <result column="update_date" property="updateDate" typeHandler="com.nexus.NexusEndOfMonthProcessingBatch.domain.type_handler.LocalDateTimeTypeHandler"/>
    </resultMap>

    <select id="findByAttributeAndDestId" resultMap="NexusEndOfProcessingIdLinkResultMap">
        SELECT * FROM nexus_end_of_month_processing_id_link
        <where>
            attribute = #{attribute.name}
            AND dest_id = ${destId}
        </where>
    </select>

</mapper>